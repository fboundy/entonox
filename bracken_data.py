import numpy as np
import pandas as pd

# %%
data = {
    -30: {
        "P": [19.6, 29.2, 33.5, 37.7, 51.7, 59.5, 59.9, 62.2, 73.1, 78.3, 85.3, 96.8, 107, 113.1],
        "O2": [26.1, 46.1, 52.6, 56.0, 64.1, 67.2, 67.1, 67.8, 69.9, 70.5, 71, 70.8, 69.7, 68.2],
    },
    -25: {
        "P": [22, 31.8, 38.1, 42.3, 45.2, 51.2, 62.8, 76.7, 89.9, 102.3, 113.8],
        "O2": [23.2, 42.6, 50.4, 54.2, 55.8, 59.3, 63.6, 65.3, 66.8, 66.1, 64],
    },
    -20: {
        "P": [25.1, 34.6, 41.1, 45.5, 54, 66.7, 81.3, 86.9, 88.4, 89.4, 90.4, 91.4, 95.6, 107.2, 123.1],
        "O2": [21.3, 38.7, 46.7, 50.5, 55.7, 60.2, 62.1, 62.7, 62.9, 63.4, 63.2, 62.7, 63.2, 61.6, 56.0],
    },
    -15: {
        "P": [28.1, 35.9, 38.6, 44.4, 48.6, 51.6, 58.1, 70.5, 85, 91, 99.1, 113.7],
        "O2": [19.3, 32.6, 36.7, 42.8, 46.7, 48.2, 51.9, 56.3, 57.9, 58.7, 58.3, 55.2],
    },
    -10: {
        "P": [32.2, 41.5, 46.4, 52.5, 62.2, 75.1, 89.5, 96.1, 103.3, 118.5],
        "O2": [17.5, 31.7, 37.9, 43.1, 48.3, 52.4, 54.1, 54.4, 53.6, 47.6],
    },
    -5: {
        "P": [35.3, 45.2, 49.7, 54.3, 56.7, 66.9, 79.6, 94.0, 108.1],
        "O2": [15.6, 29.2, 34.1, 38.3, 39.0, 44.5, 48.4, 49.4, 47.7],
    },
    0: {
        "P": [39.4, 49.2, 53.9, 58.7, 61.2, 71.4, 84.5, 99.3, 113.2],
        "O2": [14.2, 26.4, 30.7, 34.7, 35.9, 40.7, 44.0, 44.5, 39.3],
    },
    5: {"P": [44, 53.8, 63.5, 66.1, 75.8, 89.6, 104.3], "O2": [12.5, 23.5, 31, 32.2, 36.4, 39.4, 37.4]},
    10: {
        "P": [48.8, 59, 68.6, 68.7, 71.3, 80.5, 94.9],
        "O2": [11.1, 20.8, 27.6, 27.75, 28.7, 32.2, 33.9],
    },
    15: {
        "P": [49.8, 53.6, 61.4, 64.1, 76.7, 90.6, 93.4],
        "O2": [6.3, 9.6, 16.5, 18.2, 25.2, 27.9, 28],
    },
    20: {"P": [55.4, 58.9, 67.1, 69.7, 82.5, 93.7], "O2": [5.4, 8.5, 14.5, 15.8, 21, 21.3]},
    25: {"P": [61.3, 65.5, 72.6, 76.7, 84.4], "O2": [4.7, 7.4, 11.2, 11.3, 15.1]},
    30: {"P": [68.2, 72.4, 78.3, 79.2, 81], "O2": [3.7, 6.4, 8.1, 8.3, 7.7]},
}


liquid_data = {
    -30: {"P": [29.2, 43.7, 59.4, 72, 82, 106.4], "O2": [4.3, 8.5, 13.2, 17.2, 20.6, 29.9]},
    -20: {
        "P": [34.4, 49.1, 66.8, 79.8, 91.8, 117.5],
        "O2": [4.5, 8.6, 14.0, 18.2, 22.5, 32.8],
    },
    -10: {
        "P": [41, 56.2, 75.6, 89.3, 106.9],
        "O2": [4.6, 9.1, 15.3, 19.7, 26.1],
    },
    0: {
        "P": [49.1, 64.0, 84.9, 98.3, 114.1],
        "O2": [5.0, 9.4, 16.4, 22, 29.2],
    },
    -25: {"P": [], "O2": []},
    -15: {"P": [], "O2": []},
    -5: {"P": [], "O2": []},
    5: {"P": [], "O2": []},
    10: {"P": [58.2, 74.3, 94.5, 104.4], "O2": [5.2, 10.2, 18, 21.65]},
    15: {"P": [], "O2": []},
    20: {"P": [69.7, 92.10], "O2": [5.5, 13.9]},
    25: {"P": [], "O2": []},
    30: {"P": [73, 80.4], "O2": [2.8, 5.7]},
}

df = pd.concat(
    [pd.DataFrame(data[t] | {"T": t, "phase": "vapour"}) for t in data]
    + [pd.DataFrame(liquid_data[t] | {"T": t, "phase": "liquid"}) for t in liquid_data]
).set_axis(["P_atm", "Z_O2", "T_C", "phase"], axis=1)

df["P_Pa"] = df["P_atm"] * 101325
df["P_bar"] = df["P_atm"] * 1.01325
df["T_K"] = df["T_C"] + 273.15
df["Z_O2"] /= 100
